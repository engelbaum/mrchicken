<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="#0B0B0C" name="theme-color"/>
<title>Mr Chicken ‚Äî Accueil &amp; Menu</title>
<meta content="Mr Chicken : qualit√©, go√ªt &amp; fra√Æcheur. D√©couvrez notre menu modernis√©, galerie, contact et r√©servation." name="description"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="style.css" rel="stylesheet"/>
<link href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" rel="stylesheet"/>
<script defer="" src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<!-- Pro fonts -->
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700;800&amp;display=swap" rel="stylesheet"/>
<!-- Professional overrides -->
<link href="pro.css" rel="stylesheet"/>
</head>
<body>
<!-- NAV -->
<nav aria-label="Navigation principale" role="navigation">
<div class="container nav-inner">
<div aria-label="Mr Chicken logo officiel" class="brand">
<a aria-label="Aller √† l‚Äôaccueil" class="brand-mark" href="#accueil">
<span class="brand-mr">Mr</span>
<span class="brand-chicken">Chicken</span>
<span class="brand-slogan">making Fast. Quality</span>
</a>
</div>
<h1>Mr Chicken</h1>
</div>
<div class="menu" id="menu">
<a class="active" data-i18n="nav.home" href="#accueil">Accueil</a>
<a data-i18n="nav.menu" href="#menu-section">Menu</a>
<a data-i18n="nav.chef" href="#chef">Notre Chef</a>
<a data-i18n="nav.gallery" href="#galerie">Galerie</a>
<a data-i18n="nav.contact" href="#contact">Contact</a>
<a class="cta" data-i18n="nav.book" href="tel:+32499123456">R√©server</a>
</div>
<!-- S√©lecteur de langue -->
<div class="lang-switch">
<label class="sr-only" for="lang">Language</label>
<select aria-label="Language" id="lang">
<option value="fr">FR</option>
<option value="nl">NL</option>
<option value="en">EN</option>
</select>
</div>
<button aria-label="Ouvrir/fermer le menu" class="burger" id="burger">
          ‚ò∞
        </button>

</nav>
<!-- ACCUEIL -->
<header aria-label="Pr√©sentation Mr Chicken" class="hero" id="accueil" role="banner">
<div class="wrap">
<h2 data-i18n="hero.title">Qualit√©, Go√ªt &amp; Fra√Æcheur</h2>
<p data-i18n="hero.subtitle">
          Wings, tenders, wraps et nans gourmands ‚Äî la signature Mr Chicken en
          rouge &amp; noir.
        </p>
<div class="btns">
<a class="btn btn-primary" data-i18n="hero.btn.menu" href="#menu-section">Voir le Menu</a>
<a class="btn btn-ghost" data-i18n="hero.btn.book" href="tel:+32499123456">R√©server par t√©l√©phone</a>
</div>
</div>
</header>
<!-- MENU -->
<section class="section" id="menu-section">
<div class="container">
<div class="hd">
<h3 data-i18n="menu.title">Notre Menu</h3>
<span class="note" data-i18n="menu.note">Version web modernis√©e + affiche compl√®te optimis√©e</span>
</div>
<!-- Promo -->
<div aria-label="Mise en avant" class="promo">
<div class="promo-inner">
<span class="promo-badge" data-i18n="promo.badge">Nouveau</span>
<h4 class="promo-title" data-i18n="promo.title">
              Mr Chicken, c‚Äôest meilleur en vrai
            </h4>
<p class="promo-sub" data-i18n="promo.subtitle">
              Poulet croustillant, sauces maison, service rapide.
            </p>
<ul class="promo-points">
<li>
<span class="ico">üî•</span><span data-i18n="promo.point1">Wings Hot‚Äôn Spicy</span>
</li>
<li>
<span class="ico">ü•ó</span><span data-i18n="promo.point2">Ingr√©dients frais</span>
</li>
<li>
<span class="ico">‚ö°</span><span data-i18n="promo.point3">Pr√™t en quelques minutes</span>
</li>
</ul>
<div class="btns">
<a class="btn btn-primary" data-i18n="promo.btn.menu" href="#menu-section">Voir le menu</a>
<a class="btn btn-ghost" data-i18n="promo.btn.call" href="tel:+32499123456">R√©server</a>
</div>
</div>
</div>
<!-- Outils -->
<div class="toolbar">
<div class="controls">
<input aria-label="Rechercher un produit" data-i18n-placeholder="tools.search" id="search" placeholder="Rechercher (ex : wrap, wings, nan, enfant)" type="search"/>
<select aria-label="Trier les produits" id="sort">
<option data-i18n="tools.sort.default" value="default">
                Tri : d√©faut
              </option>
<option data-i18n="tools.sort.asc" value="price-asc">
                Prix croissant
              </option>
<option data-i18n="tools.sort.desc" value="price-desc">
                Prix d√©croissant
              </option>
<option data-i18n="tools.sort.alpha" value="alpha">
                Alphab√©tique
              </option>
</select>
</div>
</div>
<!-- Cat√©gories + Grille -->
<div class="catbar" id="catbar"></div>
<div aria-live="polite" class="grid" id="grid"></div>
</div>
</section>
<!-- CHEF -->
<section class="section section-alt" id="chef">
<div class="container">
<div class="hd">
<h3 data-i18n="chef.title">Notre Chef</h3>
<span class="note" data-i18n="chef.note">Passion &amp; exigence au service du go√ªt</span>
</div>
<div class="chef">
<div class="ph">
<img alt="Notre chef Mr Chicken" loading="lazy" src="images/murad.png"/>
</div>
<div>
<p data-i18n="chef.desc">
              Chaque jour, notre √©quipe cuisine avec des ingr√©dients frais en
              respectant la signature Mr Chicken : croustillant parfait, sauces
              maison et service rapide.
            </p>
<p class="small" data-i18n="chef.badge">
              Halal ‚Ä¢ Produits de qualit√© ‚Ä¢ Pr√©paration √† la commande
            </p>
</div>
</div>
</div>
</section>
<!-- GALERIE -->
<section class="section" id="galerie">
<div class="container">
<div class="hd">
<h3 data-i18n="gallery.title">Galerie</h3>
<span class="note" data-i18n="gallery.note">Ambiance &amp; sp√©cialit√©s</span>
</div>
<div class="gallery">
<div>
<img alt="Salle principale" loading="lazy" src="images/salle%20pricipale.png"/>
</div>
<div>
<img alt="Comptoir" loading="lazy" src="images/contoir.png"/>
</div>
<div>
<img alt="Cuisine" loading="lazy" src="images/cuisine.png"/>
</div>
<div>
<img alt="Cuisine ‚Äî dressage" loading="lazy" src="images/cuisine5.png"/>
</div>
<div>
<img alt="Cuisine ‚Äî √©quipe" loading="lazy" src="images/cuisine3.png"/>
</div>
<div>
<img alt="Comptoir ‚Äî d√©tails" loading="lazy" src="images/contoir.png"/>
</div>
</div>
</div>
</section>
<!-- CONTACT -->
<section class="section section-alt" id="contact" itemscope="" itemtype="https://schema.org/Restaurant">
<div class="container">
<div class="hd">
<h3 itemprop="name">Mr Chicken</h3>
<span class="note" data-i18n="contact.note">On vous r√©pond rapidement ‚Äî r√©servations par t√©l√©phone</span>
</div>
<div class="grid2">
<div class="card-lite">
<h4 data-i18n="contact.blockTitle">Nous contacter</h4>
<p data-i18n="contact.lead">
              Une question, une commande, une r√©servation ?
            </p>
<div class="btns" style="margin-bottom: 10px">
<a class="btn btn-primary" data-i18n="contact.call" href="tel:+32499123456" itemprop="telephone">Appeler : +32 4 99 12 34 56</a>
<a class="btn btn-ghost" href="https://wa.me/32499123456?text=Bonjour%20Mr%20Chicken%2C%20je%20souhaite%20r%C3%A9server." rel="noopener" target="_blank">WhatsApp</a>
</div>
<dl class="contact-list">
<dt data-i18n="contact.phone">T√©l√©phone</dt>
<dd>
<a href="tel:+32499123456" itemprop="telephone">+32 4 99 12 34 56</a>
</dd>
<dt data-i18n="contact.address">Adresse</dt>
<dd>
<ul class="address-list">
<li itemprop="address" itemscope="" itemtype="https://schema.org/PostalAddress">
<a href="https://maps.google.com/?q=169+Grand-Rue,7700+Mouscron" rel="noopener" target="_blank">
<span itemprop="streetAddress">169 Grand-Rue</span>,
        <span itemprop="postalCode">7700</span>
<span itemprop="addressLocality">Mouscron</span>
</a>
</li>
<li itemprop="address" itemscope="" itemtype="https://schema.org/PostalAddress">
<a href="https://maps.google.com/?q=N43+318,7700+Mouscron" rel="noopener" target="_blank">
<span itemprop="streetAddress">316 chauss√©e de lille</span>,
        <span itemprop="postalCode">7700</span>
<span itemprop="addressLocality">Mouscron</span>
</a>
<li itemprop="address" itemscope="" itemtype="https://schema.org/PostalAddress">
<a href="https://maps.google.com/?q=N43+318,7700+Mouscron" rel="noopener" target="_blank">
<span itemprop="streetAddress">14 noordstraat</span>,
        <span itemprop="postalCode">8500</span>
<span itemprop="addressLocality">Roulers</span>
</a>
</li>
</li>
<li itemprop="address" itemscope="" itemtype="https://schema.org/PostalAddress">
<a href="https://maps.google.com/?q=Burgemeester+Reynaertstraat+6,8500+Kortrijk" rel="noopener" target="_blank">
<span itemprop="streetAddress">Burgemeester Reynaertstraat 6</span>,
        <span itemprop="postalCode">8500</span>
<span itemprop="addressLocality">Kortrijk</span>
</a>
</li>
</ul>
</dd>
</dl>
<p class="small" data-i18n="contact.warning">
              ‚ö†Ô∏è R√©servations uniquement par t√©l√©phone.
            </p>
</div>
<div>
<div class="card-lite" style="margin-bottom: 18px">
<h4 data-i18n="hours.title">Horaires</h4>
<ul class="hours">
<li><span data-i18n="days.mon">Lun</span><span><time datetime="Mo 11:30-01:00" itemprop="openingHours">11h30‚Äì01h00</time></span></li>
<li><span data-i18n="days.tue">Mar</span><span><time datetime="Tu 11:30-01:00" itemprop="openingHours">11h30‚Äì01h00</time></span></li>
<li><span data-i18n="days.wed">Mer</span><span><time datetime="We 11:30-01:00" itemprop="openingHours">11h30‚Äì01h00</time></span></li>
<li><span data-i18n="days.thu">Jeu</span><span><time datetime="Th 11:30-01:00" itemprop="openingHours">11h30‚Äì01h00</time></span></li>
<li><span data-i18n="days.fri">Ven</span><span><time datetime="Fr 11:30-01:00" itemprop="openingHours">11h30‚Äì01h00</time></span></li>
<li><span data-i18n="days.sat">Sam</span><span><time datetime="Sa 11:30-01:00" itemprop="openingHours">11h30‚Äì01h00</time></span></li>
<li><span data-i18n="days.sun">Dim</span><span><time datetime="Su 11:30-01:00" itemprop="openingHours">11h30‚Äì01h00</time></span></li>
</ul>
</div>
<div class="card-lite">
<h4 data-i18n="access.title">Acc√®s</h4>
<iframe allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps?q=Mr+Chicken+Rue+Exemple+1+4000+Li%C3%A8ge&amp;output=embed" style="
                  width: 100%;
                  height: 260px;
                  border: 0;
                  border-radius: 12px;
                " title="Itin√©raire vers Mr Chicken"></iframe>
<p class="small" data-i18n="access.hint">
                Parking √† proximit√© ‚Ä¢ Bus 12 &amp; 4 ‚Äî arr√™t Centre
              </p>
</div>
</div>
</div>
</div>
</section>
<footer>
      ¬© <span id="year"></span> Mr Chicken ‚Äî Tous droits r√©serv√©s.
    </footer>
<!-- Ton JS principal -->
<script defer="" src="script.js"></script>
<!-- Ajuste le ratio des cadres .media aux images (existantes ET ajout√©es dynamiquement) -->
<script defer="">
      (function () {
        const apply = (img) => {
          if (!img || !img.parentElement) return;
          const w = img.naturalWidth,
            h = img.naturalHeight;
          if (w && h) img.parentElement.style.aspectRatio = `${w} / ${h}`;
        };
        const initFor = (img) => {
          if (!img) return;
          if (img.complete) apply(img);
          else img.addEventListener("load", () => apply(img), { once: true });
        };

        // au chargement
        document.addEventListener("DOMContentLoaded", () => {
          document.querySelectorAll(".card .media img").forEach(initFor);
        });

        // √©coute les ajouts futurs (cartes g√©n√©r√©es par script.js)
        const mo = new MutationObserver((muts) => {
          for (const m of muts) {
            m.addedNodes.forEach((node) => {
              if (node.nodeType !== 1) return;
              if (node.matches?.(".card .media img")) initFor(node);
              node.querySelectorAll?.(".card .media img").forEach(initFor);
            });
          }
        });
        mo.observe(document.body, { childList: true, subtree: true });
      })();
    </script>
<!-- I18N (inchang√©, ex√©cut√© apr√®s) -->
<script defer="">
      const I18N = {
        fr: {
          "nav.home": "Accueil",
          "nav.menu": "Menu",
          "nav.chef": "Notre Chef",
          "nav.gallery": "Galerie",
          "nav.contact": "Contact",
          "nav.book": "R√©server",
          "hero.title": "Qualit√©, Go√ªt & Fra√Æcheur",
          "hero.subtitle":
            "Wings, tenders, wraps et nans gourmands ‚Äî la signature Mr Chicken en rouge & noir.",
          "hero.btn.menu": "Voir le Menu",
          "hero.btn.book": "R√©server par t√©l√©phone",
          "menu.title": "Notre Menu",
          "menu.note": "Version web modernis√©e + affiche compl√®te optimis√©e",
          "menu.posterRef": "Affiche compl√®te ‚Äî r√©f√©rence",
          "menu.posterWeb": "Format web",
          "tools.search": "Rechercher (ex : wrap, wings, nan, enfant)",
          "tools.sort.default": "Tri : d√©faut",
          "tools.sort.asc": "Prix croissant",
          "tools.sort.desc": "Prix d√©croissant",
          "tools.sort.alpha": "Alphab√©tique",
          "tools.hint": "Clique une cat√©gorie pour filtrer.",
          "chef.title": "Fondateur Raisani",
          "chef.note": "Passion & exigence au service du go√ªt",
          "chef.desc":
            "Chaque jour, notre √©quipe cuisine avec des ingr√©dients frais en respectant la signature Mr Chicken : croustillant parfait, sauces maison et service rapide.",
          "chef.badge":
            "Halal ‚Ä¢ Produits de qualit√© ‚Ä¢ Pr√©paration √† la commande",
          "gallery.title": "Galerie",
          "gallery.note": "Ambiance & sp√©cialit√©s",
          "contact.note":
            "On vous r√©pond rapidement ‚Äî r√©servations par t√©l√©phone",
          "contact.blockTitle": "Nous contacter",
          "contact.lead": "Une question, une commande, une r√©servation ?",
          "contact.call": "Appeler : +32 4 99 12 34 56",
          "contact.phone": "T√©l√©phone",
          "contact.email": "E-mail",
          "contact.address": "Adresse",
          "contact.warning": "‚ö†Ô∏è R√©servations uniquement par t√©l√©phone.",
          "hours.title": "Horaires",
          "days.mon": "Lun",
          "days.tue": "Mar",
          "days.wed": "Mer",
          "days.thu": "Jeu",
          "days.fri": "Ven",
          "days.sat": "Sam",
          "days.sun": "Dim",
          "access.title": "Acc√®s",
          "access.hint": "Parking √† proximit√© ‚Ä¢ Bus 12 & 4 ‚Äî arr√™t Centre",
          "cat.Tous": "Tous",
          "cat.Menus": "Menus",
          "cat.Burgers": "Burgers",
          "cat.Wraps": "Wraps",
          "cat.Wings & Co": "Wings & Co",
          "cat.Nans": "Nans",
          "cat.Accompagnements": "Accompagnements",
          "cat.Enfant": "Enfant",
        },
        nl: {
          "nav.home": "Start",
          "nav.menu": "Menu",
          "nav.chef": "Onze Chef",
          "nav.gallery": "Galerij",
          "nav.contact": "Contact",
          "nav.book": "Reserveren",
          "hero.title": "Kwaliteit, Smaak & Versheid",
          "hero.subtitle":
            "Wings, tenders, wraps en naan ‚Äî de Mr Chicken-signatuur in rood & zwart.",
          "hero.btn.menu": "Menu bekijken",
          "hero.btn.book": "Telefonisch reserveren",
          "menu.title": "Ons Menu",
          "menu.note": "Moderne webversie + geoptimaliseerde affiche",
          "menu.posterRef": "Volledige affiche ‚Äî referentie",
          "menu.posterWeb": "Webformaat",
          "tools.search": "Zoeken (bv.: wrap, wings, naan, kind)",
          "tools.sort.default": "Standaard sortering",
          "tools.sort.asc": "Prijs oplopend",
          "tools.sort.desc": "Prijs aflopend",
          "tools.sort.alpha": "Alfabetisch",
          "tools.hint": "Klik op een categorie om te filteren.",
          "chef.title": "Oprichter Raisani",
          "chef.note": "Passie & vakmanschap voor smaak",
          "chef.desc":
            "Elke dag kookt ons team met verse ingredi√´nten volgens de Mr Chicken-signatuur: perfecte crunch, huisgemaakte sauzen en snelle service.",
          "chef.badge": "Halal ‚Ä¢ Kwaliteitsproducten ‚Ä¢ Vers bereid",
          "gallery.title": "Galerij",
          "gallery.note": "Sfeer & specialiteiten",
          "contact.note": "We antwoorden snel ‚Äî reserveren telefonisch",
          "contact.blockTitle": "Contact opnemen",
          "contact.lead": "Vraag, bestelling of reservatie?",
          "contact.call": "Bellen: +32 4 99 12 34 56",
          "contact.phone": "Telefoon",
          "contact.email": "E-mail",
          "contact.address": "Adres",
          "contact.warning": "‚ö†Ô∏è Enkel telefonisch reserveren.",
          "hours.title": "Openingsuren",
          "days.mon": "Ma",
          "days.tue": "Di",
          "days.wed": "Wo",
          "days.thu": "Do",
          "days.fri": "Vr",
          "days.sat": "Za",
          "days.sun": "Zo",
          "access.title": "Bereikbaarheid",
          "access.hint": "Parkeren in de buurt ‚Ä¢ Bus 12 & 4 ‚Äî halte Centrum",
          "cat.Tous": "Alle",
          "cat.Menus": "Menu‚Äôs",
          "cat.Burgers": "Burgers",
          "cat.Wraps": "Wraps",
          "cat.Wings & Co": "Wings & Co",
          "cat.Nans": "Naans",
          "cat.Accompagnements": "Bijgerechten",
          "cat.Enfant": "Kind",
        },
        en: {
          "nav.home": "Home",
          "nav.menu": "Menu",
          "nav.chef": "Our Chef",
          "nav.gallery": "Gallery",
          "nav.contact": "Contact",
          "nav.book": "Book",
          "hero.title": "Quality, Taste & Freshness",
          "hero.subtitle":
            "Wings, tenders, wraps and naans ‚Äî Mr Chicken‚Äôs red & black signature.",
          "hero.btn.menu": "View Menu",
          "hero.btn.book": "Book by phone",
          "menu.title": "Our Menu",
          "menu.note": "Modern web version + optimized poster",
          "menu.posterRef": "Full poster ‚Äî reference",
          "menu.posterWeb": "Web format",
          "tools.search": "Search (e.g. wrap, wings, naan, kids)",
          "tools.sort.default": "Default sort",
          "tools.sort.asc": "Price: low to high",
          "tools.sort.desc": "Price: high to low",
          "tools.sort.alpha": "Alphabetical",
          "tools.hint": "Click a category to filter.",
          "chef.title": "Founder Raisani",
          "chef.note": "Passion & high standards for taste",
          "chef.desc":
            "Every day our team cooks with fresh ingredients: perfect crunch, homemade sauces and fast service ‚Äî the Mr Chicken signature.",
          "chef.badge": "Halal ‚Ä¢ Quality products ‚Ä¢ Made to order",
          "gallery.title": "Gallery",
          "gallery.note": "Atmosphere & specialties",
          "contact.note": "We reply quickly ‚Äî bookings by phone",
          "contact.blockTitle": "Contact us",
          "contact.lead": "Any question, order or booking?",
          "contact.call": "Call: +32 4 99 12 34 56",
          "contact.phone": "Phone",
          "contact.email": "Email",
          "contact.address": "Address",
          "contact.warning": "‚ö†Ô∏è Bookings by phone only.",
          "hours.title": "Opening hours",
          "days.mon": "Mon",
          "days.tue": "Tue",
          "days.wed": "Wed",
          "days.thu": "Thu",
          "days.fri": "Fri",
          "days.sat": "Sat",
          "days.sun": "Sun",
          "access.title": "Getting here",
          "access.hint": "Parking nearby ‚Ä¢ Bus 12 & 4 ‚Äî stop Center",
          "cat.Tous": "All",
          "cat.Menus": "Menus",
          "cat.Burgers": "Burgers",
          "cat.Wraps": "Wraps",
          "cat.Wings & Co": "Wings & Co",
          "cat.Nans": "Naans",
          "cat.Accompagnements": "Sides",
          "cat.Enfant": "Kids",
        },
      };

      function applyI18n(lang = "fr") {
        const d = I18N[lang] || I18N.fr;
        document.documentElement.lang = lang;

        // Textes
        document.querySelectorAll("[data-i18n]").forEach((el) => {
          const k = el.dataset.i18n;
          if (d[k]) el.textContent = d[k];
        });
        // Placeholders
        document.querySelectorAll("[data-i18n-placeholder]").forEach((el) => {
          const k = el.dataset.i18nPlaceholder;
          if (d[k]) el.setAttribute("placeholder", d[k]);
        });
        // Cat√©gories (cr√©√©es par script.js)
        const map = (txt) => d["cat." + txt] || txt;
        document.querySelectorAll("#catbar button").forEach((b) => {
          b.textContent = map(b.textContent.trim());
        });
        // Tri
        document.querySelectorAll("#sort option").forEach((o) => {
          const k = o.dataset.i18n;
          if (k && d[k]) o.textContent = d[k];
        });
      }

      const langSelect = document.getElementById("lang");
      const saved =
        localStorage.getItem("lang") ||
        (navigator.language || "fr").slice(0, 2);
      const init = ["fr", "nl", "en"].includes(saved) ? saved : "fr";
      if (langSelect) langSelect.value = init;

      window.addEventListener("DOMContentLoaded", () => applyI18n(init));
      langSelect?.addEventListener("change", (e) => {
        const lang = e.target.value;
        localStorage.setItem("lang", lang);
        applyI18n(lang);
      });
    </script>

<script>
async function loadI18nDict() {
  try {
    const res = await fetch('i18n.json', {cache:'no-store'});
    if (!res.ok) throw new Error('i18n.json not found');
    return await res.json();
  } catch(e) {
    console.error(e);
    return { fr:{}, en:{}, nl:{} };
  }
}

// Apply i18n to standard [data-i18n] elements and placeholders
function applyDict(dict, lang) {
  const d = dict[lang] || dict.fr || {};
  document.documentElement.lang = lang;

  document.querySelectorAll('[data-i18n]').forEach(el => {
    const k = el.dataset.i18n;
    if (d[k]) el.textContent = d[k];
  });
  document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
    const k = el.dataset.i18nPlaceholder;
    if (d[k]) el.setAttribute('placeholder', d[k]);
  });

  // categories
  document.querySelectorAll('[data-cat-key]').forEach(el => {
    const key = el.dataset.catKey;
    const tr = d['cat.'+key] || key;
    el.textContent = tr;
  });
}

// global state
window.I18N_DICT = null;
window.setLang = async function(lang){
  localStorage.setItem('lang', lang);
  if (!window.I18N_DICT) window.I18N_DICT = await loadI18nDict();
  applyDict(window.I18N_DICT, lang);
}

document.addEventListener('DOMContentLoaded', async () => {
  const saved = localStorage.getItem('lang') || (navigator.language||'fr').slice(0,2);
  window.I18N_DICT = await loadI18nDict();
  const init = ['fr','en','nl'].includes(saved) ? saved : 'fr';
  applyDict(window.I18N_DICT, init);
  const sel = document.getElementById('lang');
  if (sel){ sel.value = init; sel.addEventListener('change', e => window.setLang(e.target.value)); }
});
</script>

</body>
</html>
